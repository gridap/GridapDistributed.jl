<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Geometry · GridapDistributed.jl</title><meta name="title" content="Geometry · GridapDistributed.jl"/><meta property="og:title" content="Geometry · GridapDistributed.jl"/><meta property="twitter:title" content="Geometry · GridapDistributed.jl"/><meta name="description" content="Documentation for GridapDistributed.jl."/><meta property="og:description" content="Documentation for GridapDistributed.jl."/><meta property="twitter:description" content="Documentation for GridapDistributed.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GridapDistributed.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><a class="tocitem" href="../GridapDistributed/">GridapDistributed</a></li><li><a class="tocitem" href="../Algebra/">Algebra</a></li><li><a class="tocitem" href="../CellData/">CellData</a></li><li><a class="tocitem" href="../FESpaces/">FESpaces</a></li><li class="is-active"><a class="tocitem" href>Geometry</a><ul class="internal"><li><a class="tocitem" href="#MacroDiscreteModels"><span>MacroDiscreteModels</span></a></li></ul></li><li><a class="tocitem" href="../MultiField/">MultiField</a></li><li><a class="tocitem" href="../Visualization/">Visualization</a></li><li><a class="tocitem" href="../Adaptivity/">Adaptivity</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Geometry</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Geometry</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gridap/GridapDistributed.jl/blob/master/docs/src/Geometry.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Geometry"><a class="docs-heading-anchor" href="#Geometry">Geometry</a><a id="Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Geometry" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.DistributedDiscreteModel" href="#GridapDistributed.DistributedDiscreteModel"><code>GridapDistributed.DistributedDiscreteModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.DistributedFaceLabeling" href="#GridapDistributed.DistributedFaceLabeling"><code>GridapDistributed.DistributedFaceLabeling</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.DistributedGrid" href="#GridapDistributed.DistributedGrid"><code>GridapDistributed.DistributedGrid</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.DistributedGridTopology" href="#GridapDistributed.DistributedGridTopology"><code>GridapDistributed.DistributedGridTopology</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.DistributedTriangulation" href="#GridapDistributed.DistributedTriangulation"><code>GridapDistributed.DistributedTriangulation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL452">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.GenericDistributedDiscreteModel" href="#GridapDistributed.GenericDistributedDiscreteModel"><code>GridapDistributed.GenericDistributedDiscreteModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/Geometry.jl#LL141">source</a></section></article><h2 id="MacroDiscreteModels"><a class="docs-heading-anchor" href="#MacroDiscreteModels">MacroDiscreteModels</a><a id="MacroDiscreteModels-1"></a><a class="docs-heading-anchor-permalink" href="#MacroDiscreteModels" title="Permalink"></a></h2><p>These are functionalities to select and globally number the interfaces between processors:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.MacroDiscreteModel" href="#GridapDistributed.MacroDiscreteModel"><code>GridapDistributed.MacroDiscreteModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct MacroDiscreteModel{Dc,Dp} &lt;: DistributedDiscreteModel{Dc,Dp}</code></pre><p>DistributedModel of the interfaces between the processors. </p><p>Each d-interface is given as an agglomeration of d-faces, and a global numbering  is produced for the interfaces. </p><p><strong>Constructors:</strong></p><pre><code class="nohighlight hljs">MacroDiscreteModel(model::DistributedDiscreteModel)</code></pre><p><strong>Visualizing the interfaces:</strong></p><p>Interfaces have two different numberings. One is local to each processor, and the  other is global and consistent across all processors. To extract and visualize  the interfaces, you can use the following functions:</p><ul><li><code>get_local_face_labeling(macro_model::MacroDiscreteModel{Dc})</code></li><li><code>get_global_face_labeling(macro_model::MacroDiscreteModel{Dc})</code></li><li><code>writevtk_local(macro_model::MacroDiscreteModel{Dc},filename::String;vtk_kwargs...)</code></li><li><code>writevtk_global(macro_model::MacroDiscreteModel{Dc},filename::String;vtk_kwargs...)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL2-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.classify_interfaces-Union{Tuple{GridapDistributed.DistributedDiscreteModel{Dc}}, Tuple{Dc}} where Dc" href="#GridapDistributed.classify_interfaces-Union{Tuple{GridapDistributed.DistributedDiscreteModel{Dc}}, Tuple{Dc}} where Dc"><code>GridapDistributed.classify_interfaces</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns a JaggedArray of JaggedArrays such that we have</p><pre><code class="nohighlight hljs">[interface dimension][interface lid][face dimension] -&gt; interface dfaces lids</code></pre><p>I.e we bundle interfaces of the same dimension together (macro-faces, macro-edges, macro-nodes),    and for each interface we return a JaggedArray with the d-faces in the interface.</p><p>If <code>sort_faces</code> is true, the faces in each interface are sorted by gid. If false, the faces   are by default sorted by lid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL76-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.generate_interface_gids-Tuple{Any, Any}" href="#GridapDistributed.generate_interface_gids-Tuple{Any, Any}"><code>GridapDistributed.generate_interface_gids</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function generate_interface_gids(nbors,keys) -&gt; gids</code></pre><p>Generates a global numbering for the interfaces, given two input arrays per processor:</p><pre><code class="nohighlight hljs">- `nbors`: For each interface, the minimum rank of the neighboring processors.
- `keys`: For each interface, the minimum gid of the faces in the interface.</code></pre><p>Then the gids are assigned in the following way:    We iterate over the processors in ascending order. For each processor, we iterate over the local   interfaces. Then: </p><pre><code class="nohighlight hljs">- If the `nbor` processor of an interface has a higher (or equal) rank than the current processor, it means we
haven&#39;t assigned a gid to that interface yet. So we assign a new gid to the current interface.
- If the `nbor` processor of an interface has a lower rank than the current processor, it means we 
already assigned a gid to that interface (while iterating over `nbor`). So we look for a matching `key`
in the `keys` array of the `nbor` processor, and assign the same gid to the current interface.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL168-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.generate_nbors_and_keys-Union{Tuple{Dc}, Tuple{GridapDistributed.DistributedDiscreteModel{Dc}, Any}} where Dc" href="#GridapDistributed.generate_nbors_and_keys-Union{Tuple{Dc}, Tuple{GridapDistributed.DistributedDiscreteModel{Dc}, Any}} where Dc"><code>GridapDistributed.generate_nbors_and_keys</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Given a model and a set of local interfaces for each model, returns     - <code>nbors</code>: For each interface, the minimum rank of the neighboring processors.     - <code>keys</code>: For each interface, the minimum gid of the faces in the interface.</p><p>Options: </p><ul><li><code>is_sorted</code>: If true, the keys are assumed to be sorted by gid. This allows some optimization.</li><li><code>dimensions</code>: List/Set of interface dimensions to be considered. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL232-L240">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.get_global_face_labeling-Union{Tuple{GridapDistributed.MacroDiscreteModel{Dc}}, Tuple{Dc}} where Dc" href="#GridapDistributed.get_global_face_labeling-Union{Tuple{GridapDistributed.MacroDiscreteModel{Dc}}, Tuple{Dc}} where Dc"><code>GridapDistributed.get_global_face_labeling</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns a global (consistent) face labeling for the macro model. Requires communication.</p><p>The face labeling contains the following tags:      - <code>Interior_i</code> : Faces which are interior to processor <code>i</code>.     - <code>Interface_j</code>: Faces which belong to interface <code>j</code> (global id).     - <code>Interiors</code>  : Union of all <code>Interior_i</code> tags.     - <code>Interfaces</code> : Union of all <code>Interface_j</code> tags.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL305-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GridapDistributed.get_local_face_labeling-Union{Tuple{GridapDistributed.MacroDiscreteModel{Dc}}, Tuple{Dc}} where Dc" href="#GridapDistributed.get_local_face_labeling-Union{Tuple{GridapDistributed.MacroDiscreteModel{Dc}}, Tuple{Dc}} where Dc"><code>GridapDistributed.get_local_face_labeling</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns a local face labeling for the macro model. Does not require communication.   WARNING: This is NOT consistent, it is sub-assembled. The same face might have             different labels in different processors.</p><p>The face labeling contains the following tags:      - <code>Interior</code>   : Faces which are interior to the processor.     - <code>Exterior</code>   : Faces which are exterior to the processor.     - <code>Interface_i</code>: Faces which belong to interface <code>i</code> (local id).     - <code>Interfaces</code> : Union of all <code>Interface_i</code> tags.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gridap/GridapDistributed.jl/blob/72c2b7a7663f320efc2851b370c71b516583f2a9/src/MacroDiscreteModels.jl#LL376-L386">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FESpaces/">« FESpaces</a><a class="docs-footer-nextpage" href="../MultiField/">MultiField »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Wednesday 11 June 2025 10:42">Wednesday 11 June 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
